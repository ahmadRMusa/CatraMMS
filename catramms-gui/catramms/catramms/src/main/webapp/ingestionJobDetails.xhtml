<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:media="http://xmlns.jcp.org/jsf/composite/media">

<f:metadata>
    <f:viewParam name="ingestionJobKey" value="#{ingestionJobDetails.ingestionJobKey}" />
    <f:viewAction action="#{ingestionJobDetails.init}" />
</f:metadata>

<h:head>

    <h:outputStylesheet library="css" name="catramms.css"  />

</h:head>

<h:body>

    <ui:include src="/common/loadingDialog.xhtml"/>

    <h:form id="viewForm">

        <p:toolbar>
            <p:toolbarGroup align="left">
                <p:outputLabel styleClass="appTitle" value="Media Management System" />
            </p:toolbarGroup>

            <p:toolbarGroup align="right">

                <p:outputLabel value="Welcome #{login.user}" />

                <span class="ui-separator">
                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                </span>

                <p:commandLink value="Logout" action="#{login.logout}" />

                <span class="ui-separator">
                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                </span>

                <ui:include src="/common/mainMenu.xhtml"/>

            </p:toolbarGroup>
        </p:toolbar>

        <p:toolbar>
            <p:toolbarGroup align="left">
                <span class="ui-separator">
                    <span class="ui-icon ui-icon-grip-dotted-vertical" />
                </span>

                <p:outputLabel styleClass="viewTitle" value="Ingestion Job Details" />
            </p:toolbarGroup>

            <p:toolbarGroup align="right">

                <p:outputLabel value="Ingestion Job Key: #{ingestionJobDetails.ingestionJobKey}" />

            </p:toolbarGroup>
        </p:toolbar>

        <p:panelGrid columns="2" cellpadding="10">

            <p:outputLabel value="Ingestion Job Key: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.ingestionJobKey}" />

            <p:outputLabel value="Label: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.label}" />

            <p:outputLabel value="Type: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.ingestionType}" />

            <p:outputLabel value="Start: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.startIngestion}">
                <f:convertDateTime type="date" pattern="dd-MM-yyyy HH:mm:ss" timeZone="CET"/>
            </p:outputLabel>

            <p:outputLabel value="End: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.endIngestion}">
                <f:convertDateTime type="date" pattern="dd-MM-yyyy HH:mm:ss" timeZone="CET"/>
            </p:outputLabel>

            <p:outputLabel value="Status: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.status}" />

            <p:outputLabel value="Error Message: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.errorMessage}" />

            <p:outputLabel value="Downloading Progress: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.downloadingProgress}" />

            <p:outputLabel value="Uploading Progress: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.uploadingProgress}" />

            <p:outputLabel value="Media Item Key: " />
            <p:panel rendered="#{ingestionJobDetails.ingestionJob.mediaItemKey != null}">
                <p:outputLabel value="#{ingestionJobDetails.ingestionJob.mediaItemKey}" />
                <p:outputLabel value=" (" />
                <h:link outcome="/mediaItemDetails.xhtml?faces-redirect=true" value="Details">
                    <f:param name="mediaItemKey" value="#{ingestionJobDetails.ingestionJob.mediaItemKey}" />
                </h:link>
                <p:outputLabel value=")" />
            </p:panel>
            <p:outputLabel rendered="#{ingestionJobDetails.ingestionJob.mediaItemKey == null}" value=""/>

            <p:outputLabel value="Physical Path Key: " />
            <p:outputLabel value="#{ingestionJobDetails.ingestionJob.physicalPathKey}" />
        </p:panelGrid>

     </h:form>

</h:body>
</html>